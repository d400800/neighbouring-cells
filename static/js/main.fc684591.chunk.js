(this["webpackJsonpneighbouring-cells-game"]=this["webpackJsonpneighbouring-cells-game"]||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),o=n(11),i=n.n(o),l=(n(89),n(12)),s=(n(90),n(143)),u=new Map([["teal","#19FA8C"],["blue","#4C32FA"],["yellow","#FADA0C"],["red","#FA1E00"]]),j=new Map([["teal","#FFA966"],["blue","#CE4DFF"],["yellow","#C3FF38"],["red","#40E8FF"]]),b=new Map([["black","#80682E"],["poo","#FFE6A8"],["purple","#B0CC49"],["brown","#CCA749"]]),d=Array.from(u.keys()),h=21,f=18,O="Default",x=new Map([["Default",u],["Kaki",b],["Shmlasha",j]]),g=n(141),m=n(130),p=n(132),v=n(148),y=n(133),C=n(146),k=n(142),S=n(136),w=n(128),A=Object(w.a)((function(e){return{}}));function F(e){var t=e.settings,n=e.setSettings,r=e.setTab,o=A(),i=c.a.useState(t.size),u=Object(l.a)(i,2),j=u[0],b=u[1],d=c.a.useState(t.rounds),h=Object(l.a)(d,2),f=h[0],O=h[1],g=c.a.useState(t.theme),w=Object(l.a)(g,2),F=w[0],z=w[1];return Object(a.jsx)(s.a,{className:o.root,children:Object(a.jsxs)("form",{children:[Object(a.jsxs)(m.a,{component:"fieldset",fullWidth:!0,children:[Object(a.jsx)(p.a,{component:"legend",children:"Board size"}),Object(a.jsxs)(v.a,{"aria-label":"board-size",name:"board-size",value:j,onChange:function(e){return b(parseInt(e.target.value))},children:[Object(a.jsx)(y.a,{value:18,control:Object(a.jsx)(C.a,{}),label:"18"}),Object(a.jsx)(y.a,{value:24,control:Object(a.jsx)(C.a,{}),label:"24"}),Object(a.jsx)(y.a,{value:32,control:Object(a.jsx)(C.a,{}),label:"32"})]})]}),Object(a.jsx)(s.a,{mt:4,children:Object(a.jsxs)(m.a,{component:"fieldset",fullWidth:!0,children:[Object(a.jsx)(p.a,{component:"legend",children:"Theme"}),Object(a.jsx)(v.a,{"aria-label":"board-size",name:"board-size",value:F,onChange:function(e){return z(e.target.value)},children:Array.from(x.keys()).map((function(e){return Object(a.jsx)(y.a,{value:e,control:Object(a.jsx)(C.a,{}),label:e},e)}))})]})}),Object(a.jsx)(s.a,{mt:4,children:Object(a.jsx)(m.a,{fullWidth:!0,children:Object(a.jsx)(k.a,{id:"rounds",label:"Number of rounds",size:"small",value:f||"",variant:"outlined",onChange:function(e){return O(parseInt(e.target.value))}})})}),Object(a.jsx)(s.a,{mt:4,children:Object(a.jsx)(S.a,{variant:"contained",onClick:function(){n({size:j,rounds:f,theme:F}),r(0)},children:"Save & Start"})})]})})}var z=n(71),T=n(134),I=n(137),M=n(138),E=n(139),N=n(69),B=n.n(N),D=n(147),R=Object(w.a)((function(e){return{tooltipIcon:{top:"50%",left:"100%",position:"absolute",transform:"translateY(-50%)"}}}));function W(){var e=R(),t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1];return Object(a.jsxs)(s.a,{textAlign:"center",children:[Object(a.jsx)(s.a,{display:"flex",justifyContent:"center",alignItems:"center",children:Object(a.jsxs)(s.a,{position:"relative",children:[Object(a.jsx)(z.a,{variant:"h5",children:"Neighbouring Cells"}),Object(a.jsx)(s.a,{className:e.tooltipIcon,children:Object(a.jsx)(T.a,{onClick:function(){return o(!0)},children:Object(a.jsx)(B.a,{fontSize:"small"})})})]})}),Object(a.jsxs)(D.a,{open:c,maxWidth:"md",onClose:function(){return o(!1)},children:[Object(a.jsx)(I.a,{children:"How to play"}),Object(a.jsx)(M.a,{children:"\n    The goal is to paint all board cells the same color.\n    At the beginning of each round, the color of the top left (initial) cell is selected.\n    The newly selected color will spread to other cells which have the same color as the initial one and are adjacent to each other (have a common top, right, bottom or left border). \n"}),Object(a.jsx)(E.a,{children:Object(a.jsx)(S.a,{onClick:function(){return o(!1)},children:"Got it"})})]})]})}var H=n(25),L=n(60),G=n(54),J=n(55),P=function(){function e(){Object(G.a)(this,e)}return Object(J.a)(e,null,[{key:"getRandomItem",value:function(e){return e[Math.floor(Math.random()*e.length)]}}]),e}(),Y=new(function(){function e(t){Object(G.a)(this,e),this.defaultCellColors=t.colors}return Object(J.a)(e,[{key:"generateRandomBoard",value:function(e,t){for(var n=Array.from(t.keys()),a=[],r=0;r<e;++r){for(var c=[],o=0;o<e;++o)c.push(P.getRandomItem(n||this.defaultCellColors));a.push(c)}return a}},{key:"repaint",value:function(e,t){var n,a=this,r=t.slice(),c=["0|0"],o=r[0][0],i=function e(t){var n=a.getNeighbours(r.length-1,r,o,t,c);if(n.length>0){var i,l=Object(L.a)(n);try{for(l.s();!(i=l.n()).done;){var s=i.value;c.push(a.cellToString(s)),e(s)}}catch(u){l.e(u)}finally{l.f()}}return a.cellStringsToArr(c)}([0,0]),s=Object(L.a)(i);try{for(s.s();!(n=s.n()).done;){var u=Object(l.a)(n.value,2),j=u[0],b=u[1];r[j][b]=e}}catch(d){s.e(d)}finally{s.f()}return r}},{key:"cellToString",value:function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return"".concat(n,"|").concat(a)}},{key:"cellStringsToArr",value:function(e){return e.map((function(e){var t=e.split("|"),n=Object(l.a)(t,2),a=n[0],r=n[1];return[parseInt(a),parseInt(r)]}))}},{key:"getNeighbours",value:function(e,t,n,a,r){var c=this,o=Object(l.a)(a,2),i=o[0],s=o[1];return[i<e?[i+1,s]:[],0!==i?[i-1,s]:[],0!==s?[i,s-1]:[],s<e?[i,s+1]:[]].filter((function(e){return e.length>0&&t[e[0]][e[1]]===n&&!r.includes(c.cellToString(e))}))}},{key:"isHomogeneous",value:function(e){var t=e[0][0];return 0===e.filter((function(e){return e.filter((function(e){return!(e===t)})).length>0})).length}}]),e}())({colors:d}),K=Object(w.a)((function(e){var t;return{cell:(t={width:"100%",margin:1,transition:"background-color .25s"},Object(H.a)(t,e.breakpoints.up("sm"),{width:function(e){return e.cellWidth}}),Object(H.a)(t,"&:after",{content:"''",display:"block",paddingTop:"100%"}),t)}}));function q(e){var t=e.boardData,n=e.onColorSelect,r=e.size,c=e.gameControlsHeight,o=e.colorMap,i=void 0===o?u:o,l=(window.innerHeight-(c||0)-240)/r,j=K({size:r,cellWidth:l});return Object(a.jsx)(a.Fragment,{children:t.map((function(e,t){return Object(a.jsx)(s.a,{display:"flex",children:e.map((function(e,r){return Object(a.jsx)("div",{role:"button",onClick:function(){return n(e)},className:"".concat(j.cell),style:{backgroundColor:i.get(e)}},"".concat(t,"-").concat(r))}))},t)}))})}var Q=Object(w.a)((function(e){return{btn:{border:"none",cursor:"pointer",width:24,height:24},root:Object(H.a)({display:"flex",justifyContent:"center"},e.breakpoints.down("xs"),{justifyContent:"space-around"})}}));function U(e){var t=e.onColorSelect,n=e.colorMap,c=void 0===n?u:n,o=Object(r.useRef)(t).current,i=Q(),l=Array.from(c.keys());return Object(r.useEffect)((function(){function e(e){if(!(e.code.indexOf("Digit")<0)){var t=parseInt(e.code.split("Digit")[1]);t>4||o(l[t-1])}}return document.addEventListener("keydown",e),function(){console.log("I clean now..."),document.removeEventListener("keydown",e)}}),[l,o]),Object(a.jsx)(s.a,{className:i.root,children:l.map((function(e){return Object(a.jsx)("button",{title:e,onClick:function(){return t(e)},style:{backgroundColor:c.get(e)},className:i.btn},e)}))})}var V=Object(w.a)((function(e){return{root:{textAlign:"center","& .MuiDialog-paperWidthFalse":{width:"80%"}}}}));function X(e){var t=e.text,n=e.title,r=e.open,c=e.action,o=V();return Object(a.jsxs)(D.a,{open:r,maxWidth:!1,onClose:c,disableBackdropClick:!0,className:o.root,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(I.a,{children:n}),Object(a.jsx)(M.a,{children:Object(a.jsx)(z.a,{children:t})}),Object(a.jsx)(E.a,{children:Object(a.jsx)(s.a,{textAlign:"center",width:"100%",mb:1.5,children:Object(a.jsx)(S.a,{onClick:c,variant:"contained",children:"Restart"})})})]})}var Z=Object(w.a)((function(e){return{board:Object(H.a)({},e.breakpoints.up("sm"),{display:"inline-block"})}}));function $(e){var t=e.size,n=e.rounds,c=e.colorMap,o=Z(),i=Object(r.useState)(Y.generateRandomBoard(t,c)),u=Object(l.a)(i,2),j=u[0],b=u[1],d=Object(r.useState)(1),h=Object(l.a)(d,2),f=h[0],O=h[1],x=Object(r.useState)(!1),g=Object(l.a)(x,2),m=g[0],p=g[1],v=Object(r.useState)(),y=Object(l.a)(v,2),C=y[0],k=y[1];function w(e){var t=Y.repaint(e,j);Y.isHomogeneous(t)&&p(!0),b(t),O(f+1)}function A(){O(1),p(!1),b(Y.generateRandomBoard(t,c))}var F="game-controls";return Object(r.useEffect)((function(){var e=document.getElementById(F);b(Y.generateRandomBoard(t,c)),k(e&&e.offsetHeight)}),[t]),Object(a.jsxs)(s.a,{width:"100%",textAlign:"center",children:[Object(a.jsx)(s.a,{className:o.board,children:Object(a.jsx)(q,{size:t,boardData:j,colorMap:c,gameControlsHeight:C,onColorSelect:w})}),Object(a.jsxs)(s.a,{id:F,mt:2,className:o.controls,children:[Object(a.jsx)(s.a,{textAlign:"center",children:Object(a.jsxs)(z.a,{variant:"body1",children:["Round ",f,"/",n]})}),Object(a.jsx)(s.a,{my:4,children:Object(a.jsx)(U,{onColorSelect:w,colorMap:c})}),Object(a.jsx)(s.a,{mt:3,textAlign:"center",children:Object(a.jsx)(S.a,{variant:"contained",onClick:A,children:"Restart"})})]}),Object(a.jsx)(X,{title:"The game beat you",text:"Want a revenge?",action:A,open:f>n}),Object(a.jsx)(X,{title:"Congratulations!",text:"You beat the game",action:A,open:m})]})}var _=n(61),ee=n(144),te=n(140);function ne(e){var t=e.setTab,n=e.tab,r=c.a.useState(n),o=Object(l.a)(r,2),i=o[0],u=o[1];function j(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}return c.a.useEffect((function(){u(n)}),[n]),Object(a.jsx)(s.a,{children:Object(a.jsxs)(ee.a,{value:i,onChange:function(e,n){u(n),t(n)},variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[Object(a.jsx)(te.a,Object(_.a)({label:"Game"},j(0))),Object(a.jsx)(te.a,Object(_.a)({label:"Settings"},j(1)))]})})}var ae=function(){var e=c.a.useState(0),t=Object(l.a)(e,2),n=t[0],r=t[1],o=c.a.useState({size:f,theme:O,rounds:h}),i=Object(l.a)(o,2),u=i[0],j=i[1];return Object(a.jsxs)("main",{children:[Object(a.jsx)(g.a,{}),Object(a.jsxs)(s.a,{px:2,py:2,children:[Object(a.jsx)(s.a,{mb:2,children:Object(a.jsx)(W,{})}),Object(a.jsx)(ne,{setTab:r,tab:n}),0===n?Object(a.jsx)(s.a,{display:"flex",justifyContent:"center",py:3,children:Object(a.jsx)($,{size:u.size,rounds:u.rounds,colorMap:x.get(u.theme)})}):Object(a.jsx)(s.a,{py:3,children:Object(a.jsx)(F,{settings:u,setSettings:j,setTab:r})})]})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root")),re()}},[[98,1,2]]]);
//# sourceMappingURL=main.fc684591.chunk.js.map