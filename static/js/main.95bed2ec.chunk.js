(this["webpackJsonpneighbouring-cells-game"]=this["webpackJsonpneighbouring-cells-game"]||[]).push([[0],{71:function(e,t,n){},72:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(0),a=n.n(r),o=n(10),i=n.n(o),l=(n(71),n(45)),s=n(14),u=(n(72),n(113)),j=n(115),b=n(112),d=new Map([["teal","#19FA8C"],["blue","#4C32FA"],["yellow","#FADA0C"],["red","#FA1E00"]]),h=Array.from(d.keys()),f=21,O=18,g=n(111),x=n(83),m=n(108),p=n(49),v=n(36),y=n(37),C=function(){function e(){Object(v.a)(this,e)}return Object(y.a)(e,null,[{key:"getRandomItem",value:function(e){return e[Math.floor(Math.random()*e.length)]}}]),e}(),k=new(function(){function e(t){Object(v.a)(this,e),this.cellColors=t.colors}return Object(y.a)(e,[{key:"generateRandomBoard",value:function(e){for(var t=[],n=0;n<e;++n){for(var c=[],r=0;r<e;++r)c.push(C.getRandomItem(this.cellColors));t.push(c)}return t}},{key:"repaint",value:function(e,t){var n,c=this,r=t.slice(),a=["0|0"],o=r[0][0],i=function e(t){var n=c.getNeighbours(r.length-1,r,o,t,a);if(n.length>0){var i,l=Object(p.a)(n);try{for(l.s();!(i=l.n()).done;){var s=i.value;a.push(c.cellToString(s)),e(s)}}catch(u){l.e(u)}finally{l.f()}}return c.cellStringsToArr(a)}([0,0]),l=Object(p.a)(i);try{for(l.s();!(n=l.n()).done;){var u=Object(s.a)(n.value,2),j=u[0],b=u[1];r[j][b]=e}}catch(d){l.e(d)}finally{l.f()}return r}},{key:"cellToString",value:function(e){var t=Object(s.a)(e,2),n=t[0],c=t[1];return"".concat(n,"|").concat(c)}},{key:"cellStringsToArr",value:function(e){return e.map((function(e){var t=e.split("|"),n=Object(s.a)(t,2),c=n[0],r=n[1];return[parseInt(c),parseInt(r)]}))}},{key:"getNeighbours",value:function(e,t,n,c,r){var a=this,o=Object(s.a)(c,2),i=o[0],l=o[1];return[i<e?[i+1,l]:[],0!==i?[i-1,l]:[],0!==l?[i,l-1]:[],l<e?[i,l+1]:[]].filter((function(e){return e.length>0&&t[e[0]][e[1]]===n&&!r.includes(a.cellToString(e))}))}},{key:"isHomogeneous",value:function(e){var t=e[0][0];return 0===e.filter((function(e){return e.filter((function(e){return!(e===t)})).length>0})).length}}]),e}())({colors:h}),w=n(104),S=Object(w.a)((function(e){return{cell:{width:"100%",margin:1,transition:"background-color .25s","&:after":{content:"''",display:"block",paddingTop:"100%"}}}}));function R(e){var t=e.boardData,n=e.onColorSelect,r=e.size,a=e.gameControlsHeight,o=(window.innerHeight,S({size:r}));return Object(c.jsx)(c.Fragment,{children:t.map((function(e,t){return Object(c.jsx)(u.a,{display:"flex",children:e.map((function(e,r){return Object(c.jsx)("div",{role:"button",onClick:function(){return n(e)},className:"".concat(o.cell),style:{backgroundColor:d.get(e)}},"".concat(t,"-").concat(r))}))},t)}))})}var A=n(35),I=Object(w.a)((function(e){return{btn:{border:"none",cursor:"pointer",width:24,height:24},root:Object(A.a)({display:"flex"},e.breakpoints.down("sm"),{justifyContent:"space-around"})}}));function T(e){var t=e.onColorSelect,n=Object(r.useRef)(t).current,a=I(),o=h;return Object(r.useEffect)((function(){return document.addEventListener("keydown",(function(e){var t=parseInt(e.code.split("Digit")[1]);n(o[t-1])})),function(){console.log("I clean now...")}}),[o,n]),Object(c.jsx)(u.a,{className:a.root,children:o.map((function(e){return Object(c.jsx)("button",{title:e,onClick:function(){return t(e)},style:{backgroundColor:d.get(e)},className:a.btn},e)}))})}var F=n(114),B=n(107),H=n(106);function N(e){var t=e.text,n=e.open,r=e.action;return Object(c.jsxs)(F.a,{open:n,maxWidth:"md",onClose:r,disableBackdropClick:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(c.jsx)(H.a,{children:t}),Object(c.jsx)(B.a,{children:Object(c.jsx)(m.a,{onClick:r,color:"primary",children:"Restart"})})]})}var z=Object(w.a)((function(e){return{controls:{}}}));function E(e){var t=e.size,n=e.maxRounds,a=z(),o=Object(r.useState)(k.generateRandomBoard(t)),i=Object(s.a)(o,2),l=i[0],j=i[1],b=Object(r.useState)(1),d=Object(s.a)(b,2),h=d[0],f=d[1],O=Object(r.useState)(!1),g=Object(s.a)(O,2),p=g[0],v=g[1],y=Object(r.useState)(),C=Object(s.a)(y,2),w=C[0],S=C[1];function A(e){var t=k.repaint(e,l);k.isHomogeneous(t)&&v(!0),j(t),f(h+1)}function I(){f(1),v(!1),j(k.generateRandomBoard(t))}var F="game-controls";return Object(r.useEffect)((function(){var e=document.getElementById(F);j(k.generateRandomBoard(t)),S(e&&e.offsetHeight)}),[t]),Object(c.jsxs)(u.a,{width:"100%",children:[Object(c.jsx)(u.a,{children:Object(c.jsx)(R,{size:t,boardData:l,gameControlsHeight:w,onColorSelect:A})}),Object(c.jsxs)(u.a,{id:F,mt:2,className:a.controls,children:[Object(c.jsx)(u.a,{textAlign:"center",children:Object(c.jsxs)(x.a,{variant:"body1",children:["Round ",h,"/",n]})}),Object(c.jsx)(u.a,{my:4,children:Object(c.jsx)(T,{onColorSelect:A})}),Object(c.jsx)(u.a,{mt:3,textAlign:"center",children:Object(c.jsx)(m.a,{variant:"contained",onClick:I,children:"Restart"})})]}),Object(c.jsx)(N,{text:"You lost",action:I,open:h>n}),Object(c.jsx)(N,{text:"Congratulations! You won!",action:I,open:p})]})}var D=n(109),M=n(110),P=n(56),G=n.n(P);function L(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(u.a,{textAlign:"center",children:[Object(c.jsxs)(u.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(c.jsx)(x.a,{variant:"h5",children:"Neighbouring Cells"}),Object(c.jsx)(u.a,{ml:2,children:Object(c.jsx)(D.a,{onClick:function(){return a(!0)},children:Object(c.jsx)(G.a,{})})})]}),Object(c.jsxs)(F.a,{open:n,maxWidth:"md",onClose:function(){return a(!1)},children:[Object(c.jsx)(H.a,{children:"How to play"}),Object(c.jsx)(M.a,{children:"\n    The goal is to paint all board cells the same color.\n    At the beginning of each round, the color of the top left (initial) cell is selected.\n    The newly selected color will spread to other cells which have the same color as the initial one and are adjacent to each other (have a common top, right, bottom or left border). \n"}),Object(c.jsx)(B.a,{children:Object(c.jsx)(m.a,{onClick:function(){return a(!1)},children:"Got it"})})]})]})}function W(e){var t=e.setPage,n=a.a.useState(0),r=Object(s.a)(n,2),o=r[0],i=r[1];function d(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}return Object(c.jsx)(u.a,{children:Object(c.jsxs)(j.a,{value:o,onChange:function(e,n){i(n),t(n)},variant:"fullWidth",textColor:"primary",indicatorColor:"primary",children:[Object(c.jsx)(b.a,Object(l.a)({label:"Standard Game"},d(0))),Object(c.jsx)(b.a,Object(l.a)(Object(l.a)({label:"CUstom Game"},d(1)),{},{disabled:!0}))]})})}var J=function(){var e=a.a.useState(0),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("main",{children:[Object(c.jsx)(g.a,{}),Object(c.jsxs)(u.a,{px:2,py:2,children:[Object(c.jsx)(u.a,{mb:2,children:Object(c.jsx)(L,{})}),Object(c.jsx)(W,{setPage:r}),0===n?Object(c.jsx)(u.a,{display:"flex",justifyContent:"center",py:3,children:Object(c.jsx)(E,{size:O,maxRounds:f})}):Object(c.jsx)(u.a,{display:"flex",justifyContent:"center",py:3,children:Object(c.jsx)(E,{size:4,maxRounds:f})})]})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),Y()}},[[80,1,2]]]);
//# sourceMappingURL=main.95bed2ec.chunk.js.map